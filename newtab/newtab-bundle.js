!function(){"use strict";var e,t,n,_,r,o,i,l,u,a,s,c={},d=[],f=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h=Array.isArray;function p(e,t){for(var n in t)e[n]=t[n];return e}function v(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function m(e,_,r,o,i){var l={type:e,props:_,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==i?++n:i,__i:-1,__u:0};return null==i&&null!=t.vnode&&t.vnode(l),l}function g(e){return e.children}function y(e,t){this.props=e,this.context=t}function k(e,t){if(null==t)return e.__?k(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?k(e):null}function b(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return b(e)}}function w(e){(!e.__d&&(e.__d=!0)&&_.push(e)&&!N.__r++||r!=t.debounceRendering)&&((r=t.debounceRendering)||o)(N)}function N(){for(var e,n,r,o,l,u,a,s=1;_.length;)_.length>s&&_.sort(i),e=_.shift(),s=_.length,e.__d&&(r=void 0,l=(o=(n=e).__v).__e,u=[],a=[],n.__P&&((r=p({},o)).__v=o.__v+1,t.vnode&&t.vnode(r),M(n.__P,r,o,n.__n,n.__P.namespaceURI,32&o.__u?[l]:null,u,null==l?k(o):l,!!(32&o.__u),a),r.__v=o.__v,r.__.__k[r.__i]=r,P(u,r,a),r.__e!=l&&b(r)));N.__r=0}function A(e,t,n,_,r,o,i,l,u,a,s){var f,p,v,y,b,w,N=_&&_.__k||d,A=t.length;for(u=function(e,t,n,_,r){var o,i,l,u,a,s=n.length,c=s,d=0;for(e.__k=new Array(r),o=0;o<r;o++)null!=(i=t[o])&&"boolean"!=typeof i&&"function"!=typeof i?(u=o+d,(i=e.__k[o]="string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?m(null,i,null,null,null):h(i)?m(g,{children:i},null,null,null):null==i.constructor&&i.__b>0?m(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=e,i.__b=e.__b+1,l=null,-1!=(a=i.__i=C(i,n,u,c))&&(c--,(l=n[a])&&(l.__u|=2)),null==l||null==l.__v?(-1==a&&(r>s?d--:r<s&&d++),"function"!=typeof i.type&&(i.__u|=4)):a!=u&&(a==u-1?d--:a==u+1?d++:(a>u?d--:d++,i.__u|=4))):e.__k[o]=null;if(c)for(o=0;o<s;o++)null!=(l=n[o])&&!(2&l.__u)&&(l.__e==_&&(_=k(l)),D(l,l));return _}(n,t,N,u,A),f=0;f<A;f++)null!=(v=n.__k[f])&&(p=-1==v.__i?c:N[v.__i]||c,v.__i=f,w=M(e,v,p,r,o,i,l,u,a,s),y=v.__e,v.ref&&p.ref!=v.ref&&(p.ref&&E(p.ref,null,v),s.push(v.ref,v.__c||y,v)),null==b&&null!=y&&(b=y),4&v.__u||p.__k===v.__k?u=x(v,u,e):"function"==typeof v.type&&void 0!==w?u=w:y&&(u=y.nextSibling),v.__u&=-7);return n.__e=b,u}function x(e,t,n){var _,r;if("function"==typeof e.type){for(_=e.__k,r=0;_&&r<_.length;r++)_[r]&&(_[r].__=e,t=x(_[r],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=k(e)),n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8==t.nodeType);return t}function C(e,t,n,_){var r,o,i=e.key,l=e.type,u=t[n];if(null===u&&null==e.key||u&&i==u.key&&l==u.type&&!(2&u.__u))return n;if(_>(null==u||2&u.__u?0:1))for(r=n-1,o=n+1;r>=0||o<t.length;){if(r>=0){if((u=t[r])&&!(2&u.__u)&&i==u.key&&l==u.type)return r;r--}if(o<t.length){if((u=t[o])&&!(2&u.__u)&&i==u.key&&l==u.type)return o;o++}}return-1}function U(e,t,n){"-"==t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||f.test(t)?n:n+"px"}function S(e,t,n,_,r){var o,i;e:if("style"==t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof _&&(e.style.cssText=_=""),_)for(t in _)n&&t in n||U(e.style,t,"");if(n)for(t in n)_&&n[t]==_[t]||U(e.style,t,n[t])}else if("o"==t[0]&&"n"==t[1])o=t!=(t=t.replace(l,"$1")),i=t.toLowerCase(),t=i in e||"onFocusOut"==t||"onFocusIn"==t?i.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?_?n.u=_.u:(n.u=u,e.addEventListener(t,o?s:a,o)):e.removeEventListener(t,o?s:a,o);else{if("http://www.w3.org/2000/svg"==r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function H(e){return function(n){if(this.l){var _=this.l[n.type+e];if(null==n.t)n.t=u++;else if(n.t<_.u)return;return _(t.event?t.event(n):n)}}}function M(e,n,_,r,o,i,l,u,a,s){var c,d,f,m,k,b,w,N,x,C,U,S,H,M,P,E,D,F=n.type;if(null!=n.constructor)return null;128&_.__u&&(a=!!(32&_.__u),i=[u=n.__e=_.__e]),(c=t.__b)&&c(n);e:if("function"==typeof F)try{if(N=n.props,x="prototype"in F&&F.prototype.render,C=(c=F.contextType)&&r[c.__c],U=c?C?C.props.value:c.__:r,_.__c?w=(d=n.__c=_.__c).__=d.__E:(x?n.__c=d=new F(N,U):(n.__c=d=new y(N,U),d.constructor=F,d.render=R),C&&C.sub(d),d.props=N,d.state||(d.state={}),d.context=U,d.__n=r,f=d.__d=!0,d.__h=[],d._sb=[]),x&&null==d.__s&&(d.__s=d.state),x&&null!=F.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=p({},d.__s)),p(d.__s,F.getDerivedStateFromProps(N,d.__s))),m=d.props,k=d.state,d.__v=n,f)x&&null==F.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),x&&null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(x&&null==F.getDerivedStateFromProps&&N!==m&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(N,U),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(N,d.__s,U)||n.__v==_.__v){for(n.__v!=_.__v&&(d.props=N,d.state=d.__s,d.__d=!1),n.__e=_.__e,n.__k=_.__k,n.__k.some(function(e){e&&(e.__=n)}),S=0;S<d._sb.length;S++)d.__h.push(d._sb[S]);d._sb=[],d.__h.length&&l.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(N,d.__s,U),x&&null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(m,k,b)})}if(d.context=U,d.props=N,d.__P=e,d.__e=!1,H=t.__r,M=0,x){for(d.state=d.__s,d.__d=!1,H&&H(n),c=d.render(d.props,d.state,d.context),P=0;P<d._sb.length;P++)d.__h.push(d._sb[P]);d._sb=[]}else do{d.__d=!1,H&&H(n),c=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++M<25);d.state=d.__s,null!=d.getChildContext&&(r=p(p({},r),d.getChildContext())),x&&!f&&null!=d.getSnapshotBeforeUpdate&&(b=d.getSnapshotBeforeUpdate(m,k)),E=c,null!=c&&c.type===g&&null==c.key&&(E=T(c.props.children)),u=A(e,h(E)?E:[E],n,_,r,o,i,l,u,a,s),d.base=n.__e,n.__u&=-161,d.__h.length&&l.push(d),w&&(d.__E=d.__=null)}catch(e){if(n.__v=null,a||null!=i)if(e.then){for(n.__u|=a?160:128;u&&8==u.nodeType&&u.nextSibling;)u=u.nextSibling;i[i.indexOf(u)]=null,n.__e=u}else for(D=i.length;D--;)v(i[D]);else n.__e=_.__e,n.__k=_.__k;t.__e(e,n,_)}else null==i&&n.__v==_.__v?(n.__k=_.__k,n.__e=_.__e):u=n.__e=L(_.__e,n,_,r,o,i,l,a,s);return(c=t.diffed)&&c(n),128&n.__u?void 0:u}function P(e,n,_){for(var r=0;r<_.length;r++)E(_[r],_[++r],_[++r]);t.__c&&t.__c(n,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(e){e.call(n)})}catch(e){t.__e(e,n.__v)}})}function T(e){return"object"!=typeof e||null==e||e.__b&&e.__b>0?e:h(e)?e.map(T):p({},e)}function L(n,_,r,o,i,l,u,a,s){var d,f,p,m,g,y,b,w=r.props,N=_.props,x=_.type;if("svg"==x?i="http://www.w3.org/2000/svg":"math"==x?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),null!=l)for(d=0;d<l.length;d++)if((g=l[d])&&"setAttribute"in g==!!x&&(x?g.localName==x:3==g.nodeType)){n=g,l[d]=null;break}if(null==n){if(null==x)return document.createTextNode(N);n=document.createElementNS(i,x,N.is&&N),a&&(t.__m&&t.__m(_,l),a=!1),l=null}if(null==x)w===N||a&&n.data==N||(n.data=N);else{if(l=l&&e.call(n.childNodes),w=r.props||c,!a&&null!=l)for(w={},d=0;d<n.attributes.length;d++)w[(g=n.attributes[d]).name]=g.value;for(d in w)if(g=w[d],"children"==d);else if("dangerouslySetInnerHTML"==d)p=g;else if(!(d in N)){if("value"==d&&"defaultValue"in N||"checked"==d&&"defaultChecked"in N)continue;S(n,d,null,g,i)}for(d in N)g=N[d],"children"==d?m=g:"dangerouslySetInnerHTML"==d?f=g:"value"==d?y=g:"checked"==d?b=g:a&&"function"!=typeof g||w[d]===g||S(n,d,g,w[d],i);if(f)a||p&&(f.__html==p.__html||f.__html==n.innerHTML)||(n.innerHTML=f.__html),_.__k=[];else if(p&&(n.innerHTML=""),A("template"==_.type?n.content:n,h(m)?m:[m],_,r,o,"foreignObject"==x?"http://www.w3.org/1999/xhtml":i,l,u,l?l[0]:r.__k&&k(r,0),a,s),null!=l)for(d=l.length;d--;)v(l[d]);a||(d="value","progress"==x&&null==y?n.removeAttribute("value"):null!=y&&(y!==n[d]||"progress"==x&&!y||"option"==x&&y!=w[d])&&S(n,d,y,w[d],i),d="checked",null!=b&&b!=n[d]&&S(n,d,b,w[d],i))}return n}function E(e,n,_){try{if("function"==typeof e){var r="function"==typeof e.__u;r&&e.__u(),r&&null==n||(e.__u=e(n))}else e.current=n}catch(e){t.__e(e,_)}}function D(e,n,_){var r,o;if(t.unmount&&t.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||E(r,null,n)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){t.__e(e,n)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&D(r[o],n,_||"function"!=typeof e.type);_||v(e.__e),e.__c=e.__=e.__e=void 0}function R(e,t,n){return this.constructor(e,n)}function F(n,_,r){var o,i,l;_==document&&(_=document.documentElement),t.__&&t.__(n,_),o=!1?null:_.__k,i=[],l=[],M(_,n=_.__k=function(t,n,_){var r,o,i,l={};for(i in n)"key"==i?r=n[i]:"ref"==i?o=n[i]:l[i]=n[i];if(arguments.length>2&&(l.children=arguments.length>3?e.call(arguments,2):_),"function"==typeof t&&null!=t.defaultProps)for(i in t.defaultProps)void 0===l[i]&&(l[i]=t.defaultProps[i]);return m(t,l,r,o,null)}(g,null,[n]),o||c,c,_.namespaceURI,o?null:_.firstChild?e.call(_.childNodes):null,i,o?o.__e:_.firstChild,false,l),P(i,n,l)}e=d.slice,t={__e:function(e,t,n,_){for(var r,o,i;t=t.__;)if((r=t.__c)&&!r.__)try{if((o=r.constructor)&&null!=o.getDerivedStateFromError&&(r.setState(o.getDerivedStateFromError(e)),i=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e,_||{}),i=r.__d),i)return r.__E=r}catch(t){e=t}throw e}},n=0,y.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=p({},this.state),"function"==typeof e&&(e=e(p({},n),this.props)),e&&p(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),w(this))},y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),w(this))},y.prototype.render=g,_=[],o="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,i=function(e,t){return e.__v.__b-t.__v.__b},N.__r=0,l=/(PointerCapture)$|Capture$/i,u=0,a=H(!1),s=H(!0);var I=0;function W(e,n,_,r,o,i){n||(n={});var l,u,a=n;if("ref"in a)for(u in a={},n)"ref"==u?l=n[u]:a[u]=n[u];var s={type:e,props:a,key:_,ref:l,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--I,__i:-1,__u:0,__source:o,__self:i};if("function"==typeof e&&(l=e.defaultProps))for(u in l)void 0===a[u]&&(a[u]=l[u]);return t.vnode&&t.vnode(s),s}var O,B,V,j,$=0,q=[],Y=t,Z=Y.__b,z=Y.__r,G=Y.diffed,K=Y.__c,J=Y.unmount,Q=Y.__;function X(e,t){Y.__h&&Y.__h(B,e,$||t),$=0;var n=B.__H||(B.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function ee(e){return $=1,function(e,t){var n=X(O++,2);if(n.t=e,!n.__c&&(n.__=[ae(void 0,t),function(e){var t=n.__N?n.__N[0]:n.__[0],_=n.t(t,e);t!==_&&(n.__N=[_,n.__[1]],n.__c.setState({}))}],n.__c=B,!B.__f)){var _=function(e,t,_){if(!n.__c.__H)return!0;var o=n.__c.__H.__.filter(function(e){return!!e.__c});if(o.every(function(e){return!e.__N}))return!r||r.call(this,e,t,_);var i=n.__c.props!==e;return o.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(i=!0)}}),r&&r.call(this,e,t,_)||i};B.__f=!0;var r=B.shouldComponentUpdate,o=B.componentWillUpdate;B.componentWillUpdate=function(e,t,n){if(this.__e){var i=r;r=void 0,_(e,t,n),r=i}o&&o.call(this,e,t,n)},B.shouldComponentUpdate=_}return n.__N||n.__}(ae,e)}function te(e,t){var n=X(O++,7);return ue(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function ne(e,t){return $=8,te(function(){return e},t)}function _e(){for(var e;e=q.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ie),e.__H.__h.forEach(le),e.__H.__h=[]}catch(t){e.__H.__h=[],Y.__e(t,e.__v)}}Y.__b=function(e){B=null,Z&&Z(e)},Y.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Q&&Q(e,t)},Y.__r=function(e){z&&z(e),O=0;var t=(B=e.__c).__H;t&&(V===B?(t.__h=[],B.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0})):(t.__h.forEach(ie),t.__h.forEach(le),t.__h=[],O=0)),V=B},Y.diffed=function(e){G&&G(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==q.push(t)&&j===Y.requestAnimationFrame||((j=Y.requestAnimationFrame)||oe)(_e)),t.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.u=void 0})),V=B=null},Y.__c=function(e,t){t.some(function(e){try{e.__h.forEach(ie),e.__h=e.__h.filter(function(e){return!e.__||le(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],Y.__e(n,e.__v)}}),K&&K(e,t)},Y.unmount=function(e){J&&J(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{ie(e)}catch(e){t=e}}),n.__H=void 0,t&&Y.__e(t,n.__v))};var re="function"==typeof requestAnimationFrame;function oe(e){var t,n=function(){clearTimeout(_),re&&cancelAnimationFrame(t),setTimeout(e)},_=setTimeout(n,35);re&&(t=requestAnimationFrame(n))}function ie(e){var t=B,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),B=t}function le(e){var t=B;e.__c=e.__(),B=t}function ue(e,t){return!e||e.length!==t.length||t.some(function(t,n){return t!==e[n]})}function ae(e,t){return"function"==typeof t?t(e):t}function se(){const[e,t]=ee({currentAsset:null,imageUrl:null,loading:!0,error:null,totalAssets:0,currentIndex:0,userSettings:{}}),n=ne(async()=>{t(e=>({...e,loading:!0,error:null}));try{chrome.runtime.sendMessage({type:"getCurrentArt"})}catch(e){t(e=>({...e,error:"Failed to load art",loading:!1}))}},[]),_=ne(()=>{chrome.runtime.sendMessage({type:"rotateToNext"})},[]),r=ne(async e=>{t(e=>({...e,loading:!0})),chrome.runtime.sendMessage({type:"switchProvider",provider:e})},[]);return function(e,t){var n=X(O++,3);!Y.__s&&ue(n.__H,t)&&(n.__=e,n.u=t,B.__H.__h.push(n))}(()=>{const e=e=>{"getCurrentArtResponse"===e.type?e.data.error?t(t=>({...t,error:e.data.error,loading:!1})):t(t=>({...t,currentAsset:e.data.asset,imageUrl:e.data.imageUrl,totalAssets:e.data.totalAssets,currentIndex:e.data.currentIndex,loading:!1,error:null})):"artUpdated"===e.type&&t(t=>({...t,currentAsset:e.asset,imageUrl:e.imageUrl,totalAssets:e.totalAssets,currentIndex:e.currentIndex,loading:!1,error:null}))};return chrome.runtime.onMessage.addListener(e),n(),()=>chrome.runtime.onMessage.removeListener(e)},[n]),{...e,rotateToNext:_,switchProvider:r,refreshArt:n}}function ce({message:e="Loading artwork..."}){return W("div",{id:"loading",className:"loading",children:[W("div",{className:"loading-spinner"}),W("p",{children:e})]})}function de({message:e}){return W("div",{className:"loading",children:W("p",{style:{color:"#ff6b6b"},children:e})})}function fe({asset:e,imageUrl:t,onRotate:n,onInfo:_,onSettings:r}){return W("div",{id:"main-content",className:"main-content",onKeyDown:e=>{" "!==e.key&&"ArrowRight"!==e.key||(e.preventDefault(),n())},tabIndex:0,children:[W("div",{id:"background-container",className:"background-container",children:W("img",{id:"background-image",className:"background-image",src:t||void 0,alt:e?.title||"Artwork"})}),W("div",{id:"art-info",className:"art-info",children:[W("div",{className:"art-details",children:[W("h1",{id:"art-title",className:"art-title",children:e?.title||"Untitled"}),W("p",{id:"art-creator",className:"art-creator",children:e?.creator||"Unknown Artist"}),W("p",{id:"art-attribution",className:"art-attribution",children:e?.attribution||""})]}),W("div",{className:"art-actions",children:[W("button",{id:"rotate-btn",className:"action-btn rotate-btn",title:"Next artwork",onClick:n,children:W("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[W("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),W("path",{d:"M21 3v5h-5"}),W("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),W("path",{d:"M3 21v-5h5"})]})}),W("button",{id:"info-btn",className:"action-btn info-btn",title:"Learn more",onClick:_,children:W("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[W("circle",{cx:"12",cy:"12",r:"10"}),W("path",{d:"M12 16v-4"}),W("path",{d:"M12 8h.01"})]})}),W("button",{id:"settings-btn",className:"action-btn settings-btn",title:"Settings",onClick:r,children:W("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[W("path",{d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),W("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1Z"})]})})]})]})]})}function he({isOpen:e,onClose:t,userSettings:n,onProviderChange:_,onTurnoverChange:r}){if(!e)return null;return W("div",{id:"settings-modal",className:"modal",children:W("div",{className:"modal-content",children:[W("div",{className:"modal-header",children:[W("h2",{children:"Settings"}),W("button",{id:"close-settings",className:"close-btn",onClick:t,children:"×"})]}),W("div",{className:"modal-body",children:[W("div",{className:"setting-item",children:[W("label",{htmlFor:"art-provider",children:"Art Provider"}),W("select",{id:"art-provider",value:n.ART_PROVIDER||"google-arts",onChange:async e=>{const t=e.currentTarget.value;await _(t)},children:[W("option",{value:"google-arts",children:"Google Arts & Culture"}),W("option",{value:"met-museum",children:"Metropolitan Museum of Art"})]})]}),W("div",{className:"setting-item",children:[W("label",{htmlFor:"turnover-always",children:"Always show new artwork on new tab"}),W("input",{type:"checkbox",id:"turnover-always",checked:n.TURNOVER_ALWAYS||!1,onChange:async e=>{const t=e.currentTarget.checked;await r(t),chrome.runtime.sendMessage({type:"userSettingsUpdate",payload:{key:"TURNOVER_ALWAYS",value:t}})}})]})]})]})})}function pe(){const[e,t]=ee(!1),{currentAsset:n,imageUrl:_,loading:r,error:o,userSettings:i,rotateToNext:l,switchProvider:u}=se();return r?W(ce,{}):o?W(de,{message:o}):W(g,{children:[W(fe,{asset:n,imageUrl:_,onRotate:l,onInfo:()=>{n?.getDetailsUrl&&chrome.tabs.create({url:n.getDetailsUrl()})},onSettings:()=>t(!0)}),W(he,{isOpen:e,onClose:()=>t(!1),userSettings:i,onProviderChange:u,onTurnoverChange:async e=>{console.log("Turnover setting changed:",e)}})]})}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("app");e&&F(W(pe,{}),e)})}();
